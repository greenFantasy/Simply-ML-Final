{"ast":null,"code":"\"use strict\";\n/**\n * @license\n * Copyright 2018 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst glamor_1 = require(\"glamor\");\n\nconst glamor_tachyons_1 = require(\"glamor-tachyons\");\n\nconst render_utils_1 = require(\"../render/render_utils\");\n\nconst DEFAULT_SUBSURFACE_OPTS = {\n  prepend: false\n};\n/**\n * Utility function to create/retrieve divs within an HTMLElement|Surface\n */\n\nfunction subSurface(parent, name, opts = {}) {\n  const container = render_utils_1.getDrawArea(parent);\n  const style = glamor_1.css(Object.assign({\n    '& canvas': {\n      display: 'block'\n    }\n  }, glamor_tachyons_1.tachyons('mv2')));\n  const titleStyle = glamor_1.css(Object.assign({\n    backgroundColor: 'white',\n    display: 'inline-block',\n    boxSizing: 'border-box',\n    borderBottom: '1px solid #357EDD',\n    lineHeight: '2em',\n    padding: '0 10px 0 10px',\n    marginBottom: '20px'\n  }, glamor_tachyons_1.tachyons('fw6 tl')));\n  const options = Object.assign({}, DEFAULT_SUBSURFACE_OPTS, opts);\n  let sub = container.querySelector(\"div[data-name=\".concat(name, \"]\"));\n\n  if (!sub) {\n    sub = document.createElement('div');\n    sub.setAttribute('class', \"\".concat(style));\n    sub.dataset.name = name;\n\n    if (options.title) {\n      const title = document.createElement('div');\n      title.setAttribute('class', \"subsurface-title \".concat(titleStyle));\n      title.innerText = options.title;\n      sub.appendChild(title);\n    }\n\n    if (options.prepend) {\n      container.insertBefore(sub, container.firstChild);\n    } else {\n      container.appendChild(sub);\n    }\n  }\n\n  return sub;\n}\n\nexports.subSurface = subSurface;\n\nfunction getDefaultWidth(element) {\n  const DEFAULT_PADDING = 50;\n  let padding = 0;\n  let current = element;\n\n  while (current && current.clientWidth === 0) {\n    current = current.parentElement;\n    padding = DEFAULT_PADDING;\n  }\n\n  return current.clientWidth - padding;\n}\n\nexports.getDefaultWidth = getDefaultWidth;\n\nfunction getDefaultHeight(element) {\n  if (element.clientHeight === 0) {\n    return 200;\n  } else {\n    return element.clientHeight;\n  }\n}\n\nexports.getDefaultHeight = getDefaultHeight;","map":null,"metadata":{},"sourceType":"script"}