{"ast":null,"code":"import ols from './ols';\nimport { visitPoints } from './points';\nimport rSquared from './r-squared';\nexport default function (data, x, y) {\n  let Y = 0,\n      YL = 0,\n      XY = 0,\n      XYL = 0,\n      X2Y = 0,\n      n = 0;\n  visitPoints(data, x, y, (dx, dy) => {\n    const ly = Math.log(dy),\n          xy = dx * dy;\n    Y += dy;\n    XY += xy;\n    X2Y += dx * xy;\n    YL += dy * ly;\n    XYL += xy * ly;\n    ++n;\n  });\n\n  const coef = ols(XY / Y, YL / Y, XYL / Y, X2Y / Y),\n        predict = x => coef[0] * Math.exp(coef[1] * x);\n\n  coef[0] = Math.exp(coef[0]);\n  return {\n    coef: coef,\n    predict: predict,\n    rSquared: rSquared(data, x, y, Y / n, predict)\n  };\n}","map":null,"metadata":{},"sourceType":"module"}